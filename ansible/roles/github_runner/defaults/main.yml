---
# Default variables for github_runner role

# GitHub Actions Runner version
# Check latest at: https://github.com/actions/runner/releases
github_runner_version: "2.331.0"

# Installation directory
github_runner_dir: "/opt/github-runner"

# User to run the GitHub Actions runner
github_runner_user: "github-runner"

# GitHub repository URL (e.g., https://github.com/owner/repo)
# This should be set via Doppler: GH_RUNNER_REPO_URL
github_runner_repo_url: "{{ lookup('env', 'GH_RUNNER_REPO_URL') }}"

# Personal Access Token for automatic runner token generation
# This can generate registration tokens automatically via GitHub API
# Requires 'repo' scope for repository runners or 'admin:org' for organization runners
github_pat_token: "{{ lookup('env', 'GH_PAT_TOKEN') }}"

# GitHub API URL
github_api_url: "https://api.github.com"

# Runner name (defaults to hostname)
github_runner_name: "{{ ansible_hostname }}"

# Runner labels
github_runner_labels:
  - "self-hosted"
  - "linux"
  - "x64"
  - "homelab"

# Service name format: actions.runner.{owner}-{repo}.{runner-name}
# The svc.sh script creates services with this naming pattern
github_runner_service_name: "{{ github_runner_repo_url | regex_replace('^https?://github.com/', '') | regex_replace('/', '-') | regex_replace('\\.git$', '') }}.{{ github_runner_name }}"

# Force reconfiguration of the runner
github_runner_force_reconfigure: false
