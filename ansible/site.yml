---
# Main site playbook that orchestrates all deployment stages

# --- Infrastructure Phase ---
- name: "Proxmox Template Creation"
  import_playbook: playbooks/infrastructure/create_templates.yml

# --- Setup Phase ---
- name: "Site Preflight"
  import_playbook: playbooks/setup/preflight.yml

- name: "Base System Configuration"
  import_playbook: playbooks/setup/base_config.yml

- name: "Tailscale Fabric"
  import_playbook: playbooks/setup/tailscale.yml

- name: "Docker Installation"
  import_playbook: playbooks/setup/docker.yml

- name: "Docker Swarm Formation"
  import_playbook: playbooks/setup/swarm.yml

- name: "Portainer Deployment"
  import_playbook: playbooks/setup/portainer.yml