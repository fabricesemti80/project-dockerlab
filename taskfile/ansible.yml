version: '3'

tasks:
  ping:
    desc: "Ping all hosts in the inventory"
    dir: 00_deploy_proxmox_instances
    cmds:
      - ansible all -m ping

  template:
    desc: "Create the Proxmox template"
    dir: 00_deploy_proxmox_instances
    cmds:
      - ansible-playbook playbook.yml

  plan:
    desc: "Plan mode - dry-run the Proxmox template creation"
    dir: 00_deploy_proxmox_instances
    cmds:
      - ansible-playbook playbook.yml --check --diff

  init:
    desc: "Install Ansible Galaxy roles and collections from requirements.yml"
    dir: 00_deploy_proxmox_instances
    cmds:
      - echo "No requirements to install for this playbook."
